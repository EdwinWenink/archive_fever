_id: b526d7e0-fb3d-11ea-a360-6f00b702838a
_parent: 48-vim_fast_creating_and_linking_notes
name: Edwin
reply_to: 0c45c780-faac-11ea-a360-6f00b702838a
body: "Great stuff! Your approach definitely makes sense and with ripgrep it's definitely fast enough. Are you on a Unix-like system? Your command didn't work for me on my Windows desktop and it took me a while to figure out why. It was very silly: I had to switch the single and double quotes around. It probably has to do with powershell handling quotes differently (sigh, oh well). This is the new command:\r\n\r\n`command! -nargs=0 Ngrepl :execute 'grep -F \"' . ' ]( ' . expand(\"%:t\") . ' )' .  '\"' | :copen 1`\r\n\r\nWhat's nice is that the regular grep command should also work, because it also has the -F flag (didn't test though). One potential caviat is that the above assumes you use spaces around the filename. I enforce that anyways in the automatic linking function because then `gf` will work as intended. But still, it may be something to take into account for others. If it turns out to be an issue for some reason the function could be simplified by just searching for the exact filename, but this may return too much. \r\n\r\nAnyways, thanks for your interest! I did in fact write a working solution for managing backlinks in a dedicated markdown section in the notes themselves. These are generated/updated for all notes by running a single command, which takes about a second to complete. An advantage is that you then no longer have to do any grepping. Instead you can just follow the links with `gf` as usual. Another edge case I considered is that people may want to automatically convert their notes into a website. Then it's also handy to have all links in the files themselves. \r\n\r\nI've been a bit hesitant to publish the code because it's an external Python script. So far I managed to not rely much on external tools. What I should do, really, is rewrite the whole thing using Python within Vim and offer it to readers of this blog as a plugin. It's possible to write Vim plugins in Python but I've never done it before. I can of course also just publish the WIP, because readers enjoy hacking it to fit their own preferences anyways :-)!\r\n\r\nBut part of why I haven't published yet is also that I've simply been lazy this summer ;-)!"
date: 1600605304
