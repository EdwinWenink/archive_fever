_id: e193adf0-92d6-11ea-a16d-e7b30751e183
_parent: 48-vim_fast_creating_and_linking_notes
name: hbenevides
reply_to: 2edc7bf0-859e-11ea-a16d-e7b30751e183
body: "Hey guys,\r\n\r\n\r\nBased on your comments I wrote a script that inserts links using a custom fuzzy completion (from [fzf.vim](https://github.com/junegunn/fzf.vim), so don't need to exit vim insert mode to create links.\r\nFirst, I mapped `<c-l>z` in insert mode to call `fzf#vim#complete` using `rg` to match any line starting with a `#` (title of notes). The result, then, is send to another function which creates the link.\r\n\r\nP.S: I use only timestamps in my filenames.\r\n\r\nCode\r\n\r\n```\r\n\" make_note_link: List -> Str\r\n\" returned string: [Title](YYYYMMDDHH.md)\r\nfunction! s:make_note_link(l)\r\n        \" fzf#vim#complete returns a list with all info in index 0\r\n        let line = split(a:l[0], ':')\r\n        let ztk_id = l:line[0]\r\n        let ztk_title = substitute(l:line[1], '\\#\\s\\+', '', 'g')\r\n        let mdlink = \"[\" . ztk_title .\"](\". ztk_id .\")\"\r\n        return mdlink\r\nendfunction\r\n\r\n\" mnemonic link zettel\r\ninoremap <expr> <c-l>z fzf#vim#complete({\r\n  \\ 'source':  'rg --no-heading --smart-case  ^\\#',\r\n  \\ 'reducer': function('<sid>make_note_link'),\r\n  \\ 'options': '--multi --reverse --margin 15%,0',\r\n  \\ 'up':    5})\r\n```"
date: 1589126220
